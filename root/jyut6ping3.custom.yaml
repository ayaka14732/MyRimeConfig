patch:
  switches:
    - name: ascii_mode
      reset: 0
      states: [ ç²µæ–‡, è¥¿æ–‡ ]
    - name: full_shape
      states: [ åŠå½¢, å…¨å½¢ ]
    - options: [ noop, trad_shn, simplification, trad_cwsf, simp_jp ]
      states: [ å‚³çµ±, æ¹«éœ§, ç®€ä½“, ç•°èº°, æ—¥æœ¬ ]
      reset: 1
    - name: ascii_punct
      states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]
    - name: simp_kana
      states: [ ã²ã‚‰, ã‚«ã‚¿ ]
    - name: emoji_cantonese_suggestion
      # å–æ¶ˆä¸‹è¡Œè¨»é‡‹ï¼ˆç§»é™¤ # è™Ÿï¼‰ï¼Œé è¨­å•“å‹• emoji
      reset: 1
      states: [ ç„¡, ğŸˆ¶ ]

  engine:
    processors:
      - ascii_composer
      - recognizer
      - key_binder
      - speller
      - punctuator
      - selector
      - navigator
      - express_editor
    segmentors:
      - ascii_segmentor
      - matcher
      - affix_segmentor@luna_pinyin
      - affix_segmentor@loengfan
      - affix_segmentor@stroke
      - affix_segmentor@cangjie5
      - affix_segmentor@swiftkana
      - abc_segmentor
      - punct_segmentor
      - fallback_segmentor
    translators:
      - punct_translator
      - script_translator
      - script_translator@luna_pinyin
      - script_translator@loengfan
      - table_translator@stroke
      - table_translator@cangjie5
      - table_translator@swiftkana
    filters:
      - simplifier@emoji_cantonese_suggestion
      - simplifier@trad_shn
      - simplifier
      - simplifier@trad_cwsf
      - simplifier@simp_jp
      - simplifier@simp_kana
      - uniquifier
      - reverse_lookup_filter@jyut6ping3_reverse_lookup

  "speller/algebra":
    - derive/\d//                 # å¿½ç•¥è²èª¿
    - xform/yu(?!ng|k)/y/         # å¼·åˆ¶ yu -> y

    - abbrev/^([a-z]).+$/$1/      # é¦–å­—æ¯ç°¡æ‹¼
    - abbrev/^([gk]w|ng).+$/$1/   # é¦–2å­—æ¯ç°¡æ‹¼

    - xform/1/v/                  # é™°å¹³
    - xform/4/vv/                 # é™½å¹³
    - xform/2/x/                  # é™°ä¸Š
    - xform/5/xx/                 # é™½ä¸Š
    - xform/3/q/                  # é™°å»
    - xform/6/qq/                 # é™½å»

  swiftkana:
    tag: swiftkana
    dictionary: swiftkana
    enable_completion: false  # è‹¥æ­¤è™•æœ‰æ•ˆï¼Œå‰‡è¦å»æ‰ speller/algebra çš„ derive/^nnn$/nn/ å’Œ derive/^nn$/n/
    enable_user_dict: false
    prefix: "q"
    suffix: ";"
    tips: ã€”ä»®åã€•

  trad_shn:
    option_name: trad_shn
    opencc_config: t2shn.json

  trad_cwsf:
    option_name: trad_cwsf
    opencc_config: t2cwsf.json

  simp_jp:
    option_name: simp_jp
    opencc_config: t2jp.json

  simp_kana:
    option_name: simp_kana
    opencc_config: hira2kata.json
    tags: [ swiftkana ]

  recognizer:
    import_preset: default
    patterns:
      punct: "^/([0-9]0?|[a-z]+)$"
      luna_pinyin: "^`[a-z']*;?$"
      loengfan: "^r[a-z']*;?$"
      stroke: "^x[hspnz]*;?$"
      cangjie5: "^v[a-z]*;?$"
      swiftkana: "^q[a-z]*;?$"
